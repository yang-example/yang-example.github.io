var _0x2bbc=['length','#FF0000','ClOtN','FTNls','#0000FF','ArmfL','getElementById','score','innerHTML','lFkxm','xzOXU','GAME\x20OVER!','pCzXO','ZvzSD','ZrybM','eXgyD','Exfrb','BkMae','FiKvu','czMIa','OaELo','font','#FFFFFF','textAlign','center','fillText','game','body','addEventListener','keydown','fillStyle','#333333','fillRect','width','height','ArrowLeft','ArrowUp','ArrowDown','Enter','random'];(function(_0x48a1f7,_0x506dec){var _0x543271=function(_0x5a8c98){while(--_0x5a8c98){_0x48a1f7['push'](_0x48a1f7['shift']());}};_0x543271(++_0x506dec);}(_0x2bbc,0x92));var _0x50be=function(_0x38733c,_0x5e3c09){_0x38733c=_0x38733c-0x0;var _0x2eb0fd=_0x2bbc[_0x38733c];return _0x2eb0fd;};var canvas=document['getElementById'](_0x50be('0x0'));var context=canvas['getContext']('2d');var C=0xf;var R=0x14;var unit=0x14;var score=0x0;var board;var shape;var state;var offset_x;var offset_y;var timer=null;var interval=0x190;var shapes=[[[[0x0,0x0],[0x0,0x1],[0x0,0x2],[0x1,0x2]],[[0x0,0x0],[0x1,0x0],[0x2,0x0],[0x0,0x1]],[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x1,0x2]],[[0x0,0x1],[0x1,0x1],[0x2,0x1],[0x2,0x0]]],[[[0x0,0x2],[0x1,0x0],[0x1,0x1],[0x1,0x2]],[[0x0,0x0],[0x0,0x1],[0x1,0x1],[0x2,0x1]],[[0x0,0x0],[0x0,0x1],[0x0,0x2],[0x1,0x0]],[[0x0,0x0],[0x1,0x0],[0x2,0x0],[0x2,0x1]]],[[[0x0,0x0],[0x0,0x1],[0x1,0x0],[0x1,0x1]]],[[[0x0,0x1],[0x1,0x0],[0x1,0x1],[0x2,0x1]],[[0x1,0x0],[0x1,0x1],[0x1,0x2],[0x2,0x1]],[[0x0,0x1],[0x1,0x1],[0x1,0x2],[0x2,0x1]],[[0x0,0x1],[0x1,0x0],[0x1,0x1],[0x1,0x2]]],[[[0x0,0x0],[0x1,0x0],[0x1,0x1],[0x2,0x1]],[[0x1,0x1],[0x1,0x2],[0x2,0x0],[0x2,0x1]]],[[[0x0,0x1],[0x1,0x0],[0x1,0x1],[0x2,0x0]],[[0x1,0x0],[0x1,0x1],[0x2,0x1],[0x2,0x2]]],[[[0x1,0x0],[0x1,0x1],[0x1,0x2],[0x1,0x3]],[[0x0,0x2],[0x1,0x2],[0x2,0x2],[0x3,0x2]]]];document[_0x50be('0x1')][_0x50be('0x2')](_0x50be('0x3'),onKeyDown);context[_0x50be('0x4')]=_0x50be('0x5');context[_0x50be('0x6')](0x0,0x0,canvas[_0x50be('0x7')],canvas[_0x50be('0x8')]);function onKeyDown(_0x3fe137){switch(_0x3fe137['code']){case'ArrowRight':move(0x1,0x0);break;case _0x50be('0x9'):move(-0x1,0x0);break;case _0x50be('0xa'):nextState();move(0x0,0x0);break;case _0x50be('0xb'):move(0x0,0x1);break;case _0x50be('0xc'):if(timer===null){if('rCCQZ'==='rCCQZ'){init();timer=setInterval(autoFall,interval);}else{drawShape(offset_x,offset_y,state);gameOver();return;}}break;}}function autoFall(){move(0x0,0x1);}function zeroBoard(_0x53f9f2,_0x35dadb){board=[];for(var _0x21b955=0x0;_0x21b955<_0x53f9f2;_0x21b955++){board[_0x21b955]=[];for(var _0x1537e6=0x0;_0x1537e6<_0x35dadb;_0x1537e6++){board[_0x21b955][_0x1537e6]=0x0;}}return board;}function nextShape(){shape=shapes[Math['floor'](Math[_0x50be('0xd')]()*shapes[_0x50be('0xe')])];state=Math['floor'](Math['random']()*shape['length']);offset_x=0x7;offset_y=0x0;}function init(){board=zeroBoard(C,R);drawBoard();nextShape();drawShape(offset_x,offset_y,state);score=0x0;addScore(0x0);}function drawShape(_0x1447c9,_0x1a74b4,_0x61880e){var _0xb434bb,_0x2bbe4c,_0x263607;context[_0x50be('0x4')]=_0x50be('0xf');for(_0xb434bb=0x0;_0xb434bb<shape[_0x61880e][_0x50be('0xe')];_0xb434bb++){_0x2bbe4c=shape[_0x61880e][_0xb434bb][0x0]+_0x1447c9;_0x263607=shape[_0x61880e][_0xb434bb][0x1]+_0x1a74b4;context[_0x50be('0x6')](_0x2bbe4c*unit,_0x263607*unit,unit,unit);}}function nextState(){var _0x30919e=state;if(state<shape[_0x50be('0xe')]-0x1){_0x30919e++;}else{if(_0x50be('0x10')!==_0x50be('0x10')){placeShape(offset_x,offset_y,state);deleteFullRow();drawBoard();nextShape();if(checkCollision(offset_x,offset_y,state)){drawShape(offset_x,offset_y,state);gameOver();return;}}else{_0x30919e=0x0;}}if(!checkCollision(offset_x,offset_y,_0x30919e)){state=_0x30919e;}}function drawBoard(){for(var _0x4fc360=0x0;_0x4fc360<C;_0x4fc360++){if(_0x50be('0x11')===_0x50be('0x11')){for(var _0x4203f7=0x0;_0x4203f7<R;_0x4203f7++){if(board[_0x4fc360][_0x4203f7]===0x1){context[_0x50be('0x4')]=_0x50be('0x12');context[_0x50be('0x6')](_0x4fc360*unit,_0x4203f7*unit,unit,unit);}else{context['fillStyle']='#333333';context[_0x50be('0x6')](_0x4fc360*unit,_0x4203f7*unit,unit,unit);}}}else{move(0x0,0x1);}}}function move(_0x30fe73,_0x489af8){if(checkCollision(offset_x+_0x30fe73,offset_y+_0x489af8,state)){if(_0x489af8===0x1){if('kddrz'===_0x50be('0x13')){score+=i;document[_0x50be('0x14')](_0x50be('0x15'))[_0x50be('0x16')]='Score:\x20'+score;}else{placeShape(offset_x,offset_y,state);deleteFullRow();drawBoard();nextShape();if(checkCollision(offset_x,offset_y,state)){if(_0x50be('0x17')===_0x50be('0x18')){showText(_0x50be('0x19'));clearInterval(timer);timer=null;}else{drawShape(offset_x,offset_y,state);gameOver();return;}}}}else{if(_0x50be('0x1a')!==_0x50be('0x1a')){for(var _0x5c130f=0x0;_0x5c130f<R;_0x5c130f++){if(board[i][_0x5c130f]===0x1){context[_0x50be('0x4')]='#0000FF';context[_0x50be('0x6')](i*unit,_0x5c130f*unit,unit,unit);}else{context[_0x50be('0x4')]='#333333';context[_0x50be('0x6')](i*unit,_0x5c130f*unit,unit,unit);}}}else{return;}}}else{if(_0x50be('0x1b')===_0x50be('0x1c')){init();timer=setInterval(autoFall,interval);}else{offset_x+=_0x30fe73;offset_y+=_0x489af8;}}drawBoard();drawShape(offset_x,offset_y,state);}function placeShape(_0x267e3a,_0x55e61f,_0x23fb70){var _0x1107ad,_0x5e3d7c,_0x194439;for(_0x1107ad=0x0;_0x1107ad<shape[_0x23fb70][_0x50be('0xe')];_0x1107ad++){_0x5e3d7c=shape[_0x23fb70][_0x1107ad][0x0]+_0x267e3a;_0x194439=shape[_0x23fb70][_0x1107ad][0x1]+_0x55e61f;board[_0x5e3d7c][_0x194439]=0x1;}}function checkCollision(_0x3aada8,_0x455156,_0x183e8e){var _0x577466,_0xd19cdf,_0x50b52b;for(_0x577466=0x0;_0x577466<shape[_0x183e8e][_0x50be('0xe')];_0x577466++){_0xd19cdf=shape[_0x183e8e][_0x577466][0x0]+_0x3aada8;_0x50b52b=shape[_0x183e8e][_0x577466][0x1]+_0x455156;if(_0xd19cdf<0x0||_0xd19cdf>=C||_0x50b52b<0x0||_0x50b52b>=R){if(_0x50be('0x1d')!==_0x50be('0x1e')){return!![];}else{board[_0x577466][k]=board[_0x577466][k-0x1];}}if(board[_0xd19cdf][_0x50b52b]===0x1){return!![];}}return![];}function deleteFullRow(){var _0x31af3d;for(var _0x3a5d06=0x0;_0x3a5d06<R;_0x3a5d06++){if(_0x50be('0x1f')===_0x50be('0x20')){var _0x42b269,_0x5946b7,_0x52a841;for(_0x42b269=0x0;_0x42b269<shape[state][_0x50be('0xe')];_0x42b269++){_0x5946b7=shape[state][_0x42b269][0x0]+offset_x;_0x52a841=shape[state][_0x42b269][0x1]+offset_y;board[_0x5946b7][_0x52a841]=0x1;}}else{_0x31af3d=!![];for(var _0x290313=0x0;_0x290313<C;_0x290313++){if(board[_0x290313][_0x3a5d06]===0x0){_0x31af3d=![];break;}}if(_0x31af3d){for(_0x290313=0x0;_0x290313<C;_0x290313++){if(_0x50be('0x21')===_0x50be('0x22')){for(_0x290313=0x0;_0x290313<C;_0x290313++){for(var _0x414343=_0x3a5d06;_0x414343>0x0;_0x414343--){board[_0x290313][_0x414343]=board[_0x290313][_0x414343-0x1];}board[_0x290313][0x0]=0x0;}addScore(0x1);updateTimer(0.9);}else{for(var _0x3b4020=_0x3a5d06;_0x3b4020>0x0;_0x3b4020--){board[_0x290313][_0x3b4020]=board[_0x290313][_0x3b4020-0x1];}board[_0x290313][0x0]=0x0;}}addScore(0x1);updateTimer(0.9);}}}}function updateTimer(_0x35c18c){clearInterval(timer);interval*=_0x35c18c;timer=setInterval(autoFall,interval);}function addScore(_0x2e6f15){score+=_0x2e6f15;document[_0x50be('0x14')](_0x50be('0x15'))[_0x50be('0x16')]='Score:\x20'+score;}function showText(_0x356d6d){context[_0x50be('0x23')]='30px\x20Arial';context['fillStyle']=_0x50be('0x24');context[_0x50be('0x25')]=_0x50be('0x26');context[_0x50be('0x27')](_0x356d6d,canvas['width']/0x2,canvas[_0x50be('0x8')]/0x2);}function gameOver(){showText('GAME\x20OVER!');clearInterval(timer);timer=null;}